<?xml version="1.0"?>
<!-- Launches Isaac Sim with planner test node for debugging. -->

<launch>
  <arg name="config"/>
  <arg name="ctrl_config" default="default" doc="alternative controller config overwriting the one in config"/>
  <arg name="planner_config" default="default" doc="alternative planner config overwriting the one in config"/>
  <arg name="logging_sub_folder"  default="default" doc="save data to a sub folder if set"/>
  <arg name="isaac-venv" default="$(env ISAACSIM_PYTHON_EXE_1)"/>

  <!-- Simulation -->
  <include file="$(find mm_run)/launch/isaac_sim.launch">
    <arg name="config" value="$(arg config)"/>
    <arg name="isaac-venv" value="$(arg isaac-venv)"/>
    <arg name="logging_sub_folder" value="$(arg logging_sub_folder)"/>
  </include>

  <!-- Controller -->
  <include file="$(find mm_run)/launch/planner.launch" pass_all_args="true"/>

  <!-- Robot Model -->
  <include file="$(find mm_run)/launch/thing_description.launch">
  </include>
</launch>

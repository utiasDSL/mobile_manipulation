# Integration Test: Complex Multi-Task Sequence
# Tests: Sequential base + EE waypoints
# This verifies that TaskManager correctly sequences multiple tasks
# and that state conversion (pose + velocity) works throughout

planner:
  tasks:
  - name: Move 1
    planner_type: WaypointPlanner
    base_pose: [0.5, 0.0, 0]  # World frame: [x, y, yaw]
    ee_pose: [1.2, 0.2, 0.9, 0, 0, 0]  # World frame: [x, y, z, roll, pitch, yaw]
    tracking_pos_err_tol: 0.5
    tracking_ori_err_tol: 0.5
  - name: Move 2
    planner_type: WaypointPlanner
    base_pose: [2.0, 0.5, 1.57]  # World frame: [x, y, yaw]
    ee_pose: [2.2, 0.7, 1.0, 1.57, 0, 0]  # World frame: [x, y, z, roll, pitch, yaw]
    tracking_pos_err_tol: 0.2

controller:
  self_collision_avoidance_enabled: True
  static_obstacles_collision_avoidance_enabled: False
  acados:
    name: "TestComplexSequence"

simulation:
  duration: 8

include:
  - package: "mm_run"
    path: "config/robot/thing.yaml"
  - package: "mm_run"
    path: "config/controller/MPC.yaml"
  - package: "mm_run"
    path: "config/sim/simulation.yaml"
  - package: "mm_run"
    path: "config/scene/empty.yaml"

logging:
  log_dir: "test_experiments/complex_sequence"
  log_level: 10

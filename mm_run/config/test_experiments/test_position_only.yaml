# Integration Test: Edge Case - Position-Only Movement
# Tests: Position-only movement with consistent state dictionary format
# This verifies that when only position changes (no orientation),
# angular velocities are correctly zero/negligible

planner:
  tasks:
  - name: EE Position Only
    planner_type: WaypointPlanner
    base_pose: [2, 0.4, 0.5]   # x, y, yaw in world frame
    base_mask: [true, true, false]  # Only position (x, y) matters, yaw doesn't
    ee_pose: [2.5, 0.4, 1.0, 0.5, 0, 0]  # World frame: [x, y, z, roll, pitch, yaw]
    ee_mask: [true, true, true, false, false, false]  # Only position matters, orientation doesn't
    tracking_pos_err_tol: 0.05

controller:
  self_collision_avoidance_enabled: True
  static_obstacles_collision_avoidance_enabled: False
  acados:
    name: "TestPositionOnly"
  cost_params:
    EEPose:
      Qk: [3, 3, 3, 0, 0, 0]  # [x, y, z, roll, pitch, yaw]
      P: [1, 1, 1, 0, 0, 0]   # Terminal weights
    BasePose:
      Qk: [3, 3, 0]  # [x, y, yaw] - set yaw weight to 0 to disable yaw tracking
      P: [1, 1, 0]   # Terminal weights

simulation:
  duration: 4

include:
  - package: "mm_run"
    path: "config/robot/thing.yaml"
  - package: "mm_run"
    path: "config/controller/MPC.yaml"
  - package: "mm_run"
    path: "config/sim/simulation.yaml"
  - package: "mm_run"
    path: "config/scene/empty.yaml"

logging:
  log_dir: "test_experiments/position_only"
  log_level: 10
